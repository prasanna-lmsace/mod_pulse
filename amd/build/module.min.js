define ("mod_pulse/module",[],function(){return{init:function init(){for(var a=this,b=document.getElementsByClassName("fitem_id_templatevars_editor"),c=0;c<b.length;c++){b[c].addEventListener("click",function(){for(var a=document.getElementById("id_pulse_content_editoreditable"),b=document.getElementsByClassName("insertatcaretactive"),c=0;c<b.length;c++){b[c].classList.remove("insertatcaretactive")}a.classList.add("insertatcaretactive")})}for(var d=document.getElementsByClassName("clickforword"),e=0;e<d.length;e++){d[e].addEventListener("click",function(b){b.preventDefault();a.insertAtCaret("{"+this.getAttribute("data-text")+"}")})}if(null!==document.getElementById("page-mod-pulse-mod")&&null!==document.getElementById("page-mod-pulse-mod").querySelector("#fgroup_id_completionrequireapproval [data-fieldtype='autocomplete']")){var f=this.getAllTextNodes(document.getElementById("page-mod-pulse-mod").querySelector("#fgroup_id_completionrequireapproval [data-fieldtype='autocomplete']"));f.forEach(function(a){var b=document.createElement("span");b.classList="badge badge-info pulse-completion-roles";a.after(b);b.appendChild(a)})}},getAllTextNodes:function getAllTextNodes(a){return Array.from(a.childNodes).filter(function(a){return 3===a.nodeType&&1<a.textContent.trim().length})},insertAtCaret:function insertAtCaret(a){for(var b=document.getElementsByClassName("insertatcaretactive"),c,d,e=0,f;e<b.length;e++){f=b[e];if("undefined"==typeof f.value&&window.getSelection){c=window.getSelection();if(c.getRangeAt&&c.rangeCount){d=c.getRangeAt(0);d.deleteContents();d.insertNode(document.createTextNode(a));for(var i=0;i!=a.length+1;i++){c.modify("move","right","character")}}}else if("undefined"==typeof f.value&&document.selection&&document.selection.createRange){d=document.selection.createRange();d.text=a}if("undefined"!=typeof f.value){if(document.selection){f.focus();c=document.selection.createRange();c.text=a;f.focus()}else if(f.selectionStart||"0"==f.selectionStart){var g=f.selectionStart,h=f.selectionEnd;f.value=f.value.substring(0,g)+a+f.value.substring(h,f.value.length);f.focus();f.selectionStart=g+a.length;f.selectionEnd=g+a.length;f.focus()}else{f.value+=a;f.focus()}}}}}});
//# sourceMappingURL=module.min.js.map
